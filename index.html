<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com -->
<!--  Last Published: Sun Jan 15 2017 09:20:59 GMT+0000 (UTC)  -->
<html class="indexhtml" data-wf-page="58781b6681aef71d5419c305" data-wf-site="5875327699546d416a201490">
<head>
  <meta charset="utf-8">
    <!--<meta name="viewport" content="width=device-width, height=device-height">-->
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
 <!-- <meta content="Not My President!" property="og:title">-->
  <!--<meta content="width=device-width, initial-scale=1" name="viewport">-->
  <!--<meta content="Webflow" name="generator">--.
  <title>Fight Trump with Memes!</title>
  <!--<meta name="keywords" content="Pussygrabsback,dumptrump,southasiansdumptrump,nomoretrumpmodirapeculture, notorapeculture, notoislamophobia">
 -->
    
<!-- updte with summary gif-->     
  <meta property="og:url" content="https://www.playloops.io/images/firstgif.gif"> 
   <!-- <meta property="og:image" content="https://www.playloops.io/images/firstgif.gif"> 
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@Playloops">
    <meta name="twitter:creator" content="@_jasonmathias">
    <meta name="twitter:title" content="Fight Trump with Memes!">
    <meta name="twitter:description" content="Donald Trump is not my president. Make your own interactive GIF at Playloops.io">
    <meta name="twitter:image" content="https://www.playloops.io/images/firstgif.gif">
    

    <meta property="og:title"              content="Fight Trump with Memes!" />
    <meta property="og:description"        content="Donald Trump is not my president. Make your own interactive GIF at Playloops.io" />
    
    -->
    
    
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/angertranslator.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
  <script type="text/javascript">
    WebFont.load({
      google: {
        families: ["Montserrat:400,700","Oswald:300,400,700"]
      }
    });
  </script>
  <script src="js/modernizr.js" type="text/javascript"></script>
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
    
    <script type="text/javascript" src="js/libgif.js"></script>
    <script src='js/gifshot.min.js'></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>   -->   
    
    
</head>
<body class="indexbody">
  <div class="titlesection">
    <div class="w-container">
      <div class="parenttitlediv">
        <div class="titleheadingdiv">
            <img class="titleheading" src="images/yellowlogo.svg">          
         <!-- <h1 class="titleheading">Play Loops</h1>-->
        </div>
        <div class="editdiv"><a class="editbutton w-button" >EDIT</a>
        </div>
      </div>
    </div>
  </div>
  <div class="playersection">
    <div class="w-container">
      <div class="playerbkg">
        <div class="playerhelptxtdiv">
          <h1 class="playerhelptext">Click To Play</h1>
        </div>
        <!--<div class="playerwrapperdiv">-->
          <div id="spinnerParent" style="position:absolute;z-index:500;display:none; height:100%; width:100%; background-color:rgba(0, 0, 0, 0.8); overflow:hidden;"></div>  
            <div class="playerdiv">
              <h1 class="playertext"> NOT MY PRESIDENT</h1>
              <div class="animation1div">
                    <img class="loadingBar" id="loadingBarID" src="images/EmptyLoading.png">          
              </div>
              <div class="animation2div">       
              </div>
              <div class="animation3div">
              </div>
              <div class="animation4div">
              </div>
            </div>
      <!-- </div>-->
      </div>
    </div>
  </div>
  <div class="statssection">
    <div class="w-container">
      <div class="statsdiv">
        <h1 class="stats">767,999</h1>
        <h1 class="statsviews">views</h1>
      </div>
    </div>
  </div>
  <div class="sharesection">
    <div class="w-container">
      <div class="sharediv">
        <div class="socialmediadiv">
            <div class="facebookdiv"><a 
                                    target="_blank">
              <img sizes="(max-width: 479px) 18vw, (max-width: 767px) 15vw, (max-width: 991px) 87.359375px, 94px" src="images/facebook-2.png" srcset="images/facebook-2-p-500x500.png 500w, images/facebook-2.png 512w"></a>
          </div>
          <div class="twitter-share-button"><a target="_blank"><img sizes="(max-width: 479px) 18vw, (max-width: 767px) 15vw, (max-width: 991px) 87.359375px, 94px" src="images/twitter.png" srcset="images/twitter-p-500x500.png 500w, images/twitter.png 512w"> </a>
          </div>
        </div>
        <div class="sharelinkdiv">
          <h1 class="sharelink">GIF Link:</h1>
          <div class="sharelinktext">https://www.playloops.io/images/firstgif.gif</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
    
    <script src="js/spin.min.js"></script>
    <script src="js/jquery.transit.js"></script>
    <script src="/js/neon_text.js"></script>
    
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
    
<script>
    var everythingDownloaded = false; 
    var allGifsMade = false; 
    var isMobile; 

    var text1, text2; 
    var words = []; 
    var allMyFaces = [];
    var heroname; 
    function getPlayloop (id) {
       const PLAYLOOPS_GET_URL = PLAYLOOPS_SERVER_URL + "/playloops/views/" + id;
    
       $.get( PLAYLOOPS_GET_URL, function( data ) {
           alert( "Data Loaded: " + data );
           text1 = data.text1; 
           text2 = data.text2; 
           
           words.length = 0;
           text2 = text2.toUpperCase();
           words = text2.split(" ");
        
           
           allMyFaces = data.face_imgArray;
           $('.sharelinktext').text( data.playloopurl);    
        });       
    }
 
           

     
    function assignTestValues(){
                
           //text1 = "I am American"; 
           
           //update this
           text2 = "NoBAN NoWALL NoTrump!"; 
           
               words.length = 0;
              // text2 = text2.toUpperCase();
               words = text2.split(" ");
        
           //update this
           heroname = "leia";
           //update this
           var head_urls = ['assets/FinalArt/FakeHead/oprah_0003_Layer-1.png','assets/FinalArt/FakeHead/oprah_0002_Layer-2.png','assets/FinalArt/FakeHead/oprah_0001_Layer-3.png','assets/FinalArt/FakeHead/oprah_0000_Layer-4.png'];
           for (i = 0; i < head_urls.length; i++) {
            allMyFaces[i] = new Image();
            allMyFaces[i].onload = function(){
                incrementLoadCounter(); 
            };
            allMyFaces[i].src = head_urls[i];
           }
        
          loadAllImages();
       // everythingDownloaded = true;
           //allMyFaces = data.face_imgArray;
          // $('.sharelinktext').text( data.playloopurl);    
    }
    
     var opts = {
              lines: 10 // The number of lines to draw
            , length: 12 // The length of each line
            , width: 12 // The line thickness
            , radius: 35 // The radius of the inner circle
            , scale: .4 // Scales overall size of the spinner
            , corners: 1 // Corner roundness (0..1)
            , color: '#ffffff' // #rgb or #rrggbb or array of colors
            , opacity: 0.25 // Opacity of the lines
            , rotate: 0 // The rotation offset
            , direction: 1 // 1: clockwise, -1: counterclockwise
            , speed: 1 // Rounds per second
            , trail: 60 // Afterglow percentage
            , fps: 20 // Frames per second when using setTimeout() as a fallback for CSS
            , zIndex: 2e9 // The z-index (defaults to 2000000000)
            , className: 'spinner' // The CSS class to assign to the spinner
            , top: '50%' // Top position relative to parent
            , left: '50%' // Left position relative to parent
            , shadow: false // Whether to render a shadow
            , hwaccel: false // Whether to use hardware acceleration
            , position: 'absolute' // Element positioning
            }
    var target = document.getElementById('spinnerParent');
    $("#spinnerParent").show();
    var spinner = new Spinner(opts).spin(target);    
    
    
        var hulkidle_urls = ['/assets/FinalArt/HulkIdle/hulk_idle_0003_Layer 1_new.jpg','/assets/FinalArt/HulkIdle/hulk_idle_0002_Layer 2_new.jpg', '/assets/FinalArt/HulkIdle/hulk_idle_0001_Layer 3_new.jpg', '/assets/FinalArt/HulkIdle/hulk_idle_0000_Layer 4_new.jpg'];
        var hulkjab_urls = ['/assets/FinalArt/HulkJab/hulk_jab_0000_Layer 4_new.jpg', '/assets/FinalArt/HulkJab/hulk_jab_0001_Layer 3_new.jpg',  '/assets/FinalArt/HulkJab/hulk_jab_0002_Layer 2_new.jpg',  '/assets/FinalArt/HulkJab/hulk_jab_0003_Layer 1_new.jpg'];
        var hulkpunch_urls = ['/assets/FinalArt/HulkPunch/hulk_punch_0009_Layer 1_new.jpg', 
            '/assets/FinalArt/HulkPunch/hulk_punch_0008_Layer 2_new.jpg',                                
                                    '/assets/FinalArt/HulkPunch/hulk_punch_0007_Layer 3_new.jpg', 
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0006_Layer 4_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0005_Layer 5_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0004_Layer 6_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0003_Layer 7_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0002_Layer 8_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0001_Layer 9_new.jpg',
                                  '/assets/FinalArt/HulkPunch/hulk_punch_0000_Layer 10_new.jpg',
                                 ];
        var hulkidle_images = [];
        var hulkjab_images = [];
        var hulkpunch_images = [];
        var hulkaltpunch_images = [];
    
        var leiaidle_urls = ['/assets/FinalArt/LeiaIdle/leia_idle_0003_Layer 1_new.jpg','/assets/FinalArt/LeiaIdle/leia_idle_0002_Layer 2_new.jpg', '/assets/FinalArt/LeiaIdle/leia_idle_0001_Layer 3_new.jpg', '/assets/FinalArt/LeiaIdle/leia_idle_0000_Layer 4_new.jpg'];
        var leiajab_urls = ['/assets/FinalArt/LeiaJab/leia_jab_0003_Layer 1_new.jpg', '/assets/FinalArt/LeiaJab/leia_jab_0002_Layer 2_new.jpg', '/assets/FinalArt/LeiaJab/leia_jab_0001_Layer 3_new.jpg', '/assets/FinalArt/LeiaJab/leia_jab_0000_Layer 4_new.jpg'];
        var leiapunch_urls = [    '/assets/FinalArt/LeiaPunch/leia_punch_0009_Layer 1_new.jpg',
                                    '/assets/FinalArt/LeiaPunch/leia_punch_0008_Layer 2_new.jpg', 
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0007_Layer 3_new.jpg', 
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0006_Layer 4_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0005_Layer 5_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0004_Layer 6_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0003_Layer 7_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0002_Layer 8_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0001_Layer 9_new.jpg',
                                  '/assets/FinalArt/LeiaPunch/leia_punch_0000_Layer 10_new.jpg',
                                 ];
        var leiaidle_images = [];
        var leiajab_images = [];
        var leiapunch_images = [];
        var leiaaltpunch_images = [];
    
        var lutheridle_urls = ['/assets/FinalArt/LutherIdle/luther_idle_0003_Layer 1_new.jpg','/assets/FinalArt/LutherIdle/luther_idle_0002_Layer 2_new.jpg', '/assets/FinalArt/LutherIdle/luther_idle_0001_Layer 3_new.jpg', '/assets/FinalArt/LutherIdle/luther_idle_0000_Layer 4_new.jpg'];
        var lutherjab_urls = ['/assets/FinalArt/LutherJab/luther_jab_0003_Layer 1_new.jpg','/assets/FinalArt/LutherJab/luther_jab_0002_Layer 2_new.jpg', '/assets/FinalArt/LutherJab/luther_jab_0001_Layer 3_new.jpg', '/assets/FinalArt/LutherJab/luther_jab_0000_Layer 4_new.jpg'];
        var lutherpunch_urls = ['/assets/FinalArt/LutherPunch/luther_punch_0009_Layer 1_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0008_Layer 2_new.jpg', 
                                  '/assets/FinalArt/LutherPunch/luther_punch_0007_Layer 3_new.jpg', 
                                  '/assets/FinalArt/LutherPunch/luther_punch_0006_Layer 4_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0005_Layer 5_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0004_Layer 6_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0003_Layer 7_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0002_Layer 8_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0001_Layer 9_new.jpg',
                                  '/assets/FinalArt/LutherPunch/luther_punch_0000_Layer 10_new.jpg',
                                 ];
        var lutheridle_images = [];
        var lutherjab_images = [];
        var lutherpunch_images = [];
        var lutheraltpunch_images = [];
    
        var loadCounter = 0;
        var totalImagesToLoad = 0; 
        function incrementLoadCounter(){
            loadCounter++; 
            
            if(heroname == "leia"){
                totalImagesToLoad = leiaidle_urls.length + leiajab_urls.length + leiapunch_urls.length + lutherpunch_urls.length;
            }else if(heroname == "luther"){
                totalImagesToLoad = lutheridle_urls.length + lutherjab_urls.length + lutherpunch_urls.length + leiapunch_urls.length;
            }else if(heroname == "hulk"){
                totalImagesToLoad = hulkidle_urls.length + hulkjab_urls.length + hulkpunch_urls.length + leiapunch_urls.length;
            }
            
            totalImagesToLoad += allMyFaces.length; 
            
           // console.log("loadCounter: " + loadCounter + "toatol: " + totalImagesToLoad);
            if(loadCounter >= totalImagesToLoad){
                                //fill the entire page
                /*desiredHeight = $(window).height() - ($(".titlesection").height() + $(".playersection").height()+ $(".statssection").height());
                $(".sharediv").height(desiredHeight); 
                $(".playerdiv").height($('.playerdiv').find('img:visible').css("height"));*/
                MakeGif1(); 
            }            
        }
    
    
        function loadAllImages(){
            if(heroname == "leia"){
                for (i = 0; i < leiaidle_urls.length; i++) {
                    leiaidle_images[i] = new Image();
                    leiaidle_images[i].onload = function(){
                        incrementLoadCounter(); 
                    };
                    leiaidle_images[i].src = leiaidle_urls[i];
                }
                
                for (j = 0; j < leiajab_urls.length; j++) {
                    leiajab_images[j] = new Image();
                    leiajab_images[j].onload = function(){
                        incrementLoadCounter(); 
                    };
                    leiajab_images[j].src = leiajab_urls[j];
                }
                
                for (k = 0; k < leiapunch_urls.length; k++) {
                    leiapunch_images[k] = new Image();
                    leiapunch_images[k].onload = function(){
                        incrementLoadCounter(); 
                    };
                    leiapunch_images[k].src = leiapunch_urls[k];
                }
                
                for (l = 0; l < lutherpunch_urls.length; l++) {
                    leiaaltpunch_images[l] = new Image();
                    leiaaltpunch_images[l].onload = function(){
                        incrementLoadCounter(); 
                    };
                    leiaaltpunch_images[l].src = lutherpunch_urls[l];
                }
            }
            else if(heroname == "luther"){

                for (l = 0; l < lutheridle_urls.length; l++) {
                    lutheridle_images[l] = new Image();
                    lutheridle_images[l].onload = function(){
                        incrementLoadCounter(); 
                    };
                    lutheridle_images[l].src = lutheridle_urls[l];
                }
               
                for (m = 0; m < lutherjab_urls.length; m++) {
                    lutherjab_images[m] = new Image();
                    lutherjab_images[m].onload = function(){
                        incrementLoadCounter(); 
                    };
                    lutherjab_images[m].src = lutherjab_urls[m];
                }
                
                for (n = 0; n < lutherpunch_urls.length; n++) {
                    lutherpunch_images[n] = new Image();
                    lutherpunch_images[n].onload = function(){
                        incrementLoadCounter(); 
                    };
                    lutherpunch_images[n].src = lutherpunch_urls[n];
                } 
                
                for (p = 0; p < leiapunch_urls.length; p++) {
                    lutheraltpunch_images[p] = new Image();
                    lutheraltpunch_images[p].onload = function(){
                        incrementLoadCounter(); 
                    };
                    lutheraltpunch_images[p].src = leiapunch_urls[p];
                } 
            }
            else if(heroname == "hulk"){

                for (t = 0; t < hulkidle_urls.length; t++) {
                    hulkidle_images[t] = new Image();
                    hulkidle_images[t].onload = function(){
                        incrementLoadCounter(); 
                    };
                    hulkidle_images[t].src = hulkidle_urls[t];
                }
                
                for (u = 0; u < hulkjab_urls.length; u++) {
                    hulkjab_images[u] = new Image();
                    hulkjab_images[u].onload = function(){
                        incrementLoadCounter(); 
                    };
                    hulkjab_images[u].src = hulkjab_urls[u];
                }
                
                for (v = 0; v < hulkpunch_urls.length; v++) {
                    hulkpunch_images[v] = new Image();
                    hulkpunch_images[v].onload = function(){
                        incrementLoadCounter(); 
                    };
                    hulkpunch_images[v].src = hulkpunch_urls[v];
                } 
                
                for (l = 0; l < leiapunch_urls.length; l++) {
                    hulkaltpunch_images[l] = new Image();
                    hulkaltpunch_images[l].onload = function(){
                        incrementLoadCounter(); 
                    };
                    hulkaltpunch_images[l].src = leiapunch_urls[l];
                }
            }
            
            /*setTimeout(function(){ 
                MakeGif1(); 
            }, 3000);*/
        }
    
    function MakeGif1(){
            var idleArray; 
            var headPos = { x:5, y: 116};
            var headSize = {w: 275, h: 206.45 };
            if(heroname == "leia"){
                idleArray = leiaidle_images.slice();
                //5, 0
                //headPos = { x:32, y: 30};
                headPos = { x:5, y: 0};
                headSize = {w: 337, h: 253 };
            }else if(heroname == "luther"){
                idleArray = lutheridle_images.slice();
                //71, -51
                headPos = { x:93, y: -21};
                var headSize = {w: 275, h: 206.45 };
            }else if(heroname == "hulk"){
                idleArray = hulkidle_images.slice();
                //-21, -40
                headPos = { x:8, y: -20};
                var headSize = {w: 275, h: 206.45 };
            } 
            
            for (i = 0; i < idleArray.length; i++) { 
                    
                    var tempCanvas = document.createElement('canvas');
                    tempCanvas.width = 600;
                    tempCanvas.height = 450;
                
                    var ctx= tempCanvas.getContext("2d");
                    
                    //ctx.drawImage(hcan, 0, 0);
                    ctx.drawImage(idleArray[i], 0, 0);
                    
                    
                    var tempImage = new Image(); 
                    tempImage.onload = function(){
                        
                    };
                    tempImage.src = allMyFaces[i].src; 
                    //5 ,116,334, 251 LEIA
                    //-21 ,47,337, 253 HULK
                    //71 ,50,337, 253 LUTHER
                
                    //337, 253    225.22      290,217.17   280,210.2
                    ctx.drawImage(tempImage, 0,0, tempImage.width, tempImage.height, headPos.x ,headPos.y, headSize.w, headSize.h); 
                    //oilPaintEffect(tempCanvas,ctx, 4, getRandomInt(85,255));

                    var imgData = tempCanvas.toDataURL('image/jpeg');
                    var oneImage = new Image();
                    oneImage.src = imgData;
                    var DOM_img = document.createElement("img");
                    //DOM_img.style="position:absolute;";
                    DOM_img.src = imgData;

                    $(".animation1div").append(DOM_img);
            }  
        MakeGif2(); 
        //startAnimation1(); 
    }
    
    function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min)) + min;
}
    
    
function oilPaintEffect(canvas, ctx,radius, intensity) {
    var width = canvas.width,
        height = canvas.height,
        imgData = ctx.getImageData(0, 0, width, height),
        pixData = imgData.data,
        destCanvas = document.createElement("canvas"),
        dCtx = destCanvas.getContext("2d"),
        pixelIntensityCount = [];

    destCanvas.width = width;
    destCanvas.height = height;

    // for demo purposes, remove this to modify the original canvas
    //document.body.appendChild(destCanvas);

    var destImageData = dCtx.createImageData(width, height),
        destPixData = destImageData.data,
        intensityLUT = [],
        rgbLUT = [];

    for (var y = 0; y < height; y++) {
        intensityLUT[y] = [];
        rgbLUT[y] = [];
        for (var x = 0; x < width; x++) {
            var idx = (y * width + x) * 4,
                r = pixData[idx],
                g = pixData[idx + 1],
                b = pixData[idx + 2],
                avg = (r + g + b) / 3;

            intensityLUT[y][x] = Math.round((avg * intensity) / 255);
            rgbLUT[y][x] = {
                r: r,
                g: g,
                b: b
            };
        }
    }


    for (y = 0; y < height; y++) {
        for (x = 0; x < width; x++) {

            pixelIntensityCount = [];

            // Find intensities of nearest pixels within radius.
            for (var yy = -radius; yy <= radius; yy++) {
                for (var xx = -radius; xx <= radius; xx++) {
                    if (y + yy > 0 && y + yy < height && x + xx > 0 && x + xx < width) {
                        var intensityVal = intensityLUT[y + yy][x + xx];

                        if (!pixelIntensityCount[intensityVal]) {
                            pixelIntensityCount[intensityVal] = {
                                val: 1,
                                r: rgbLUT[y + yy][x + xx].r,
                                g: rgbLUT[y + yy][x + xx].g,
                                b: rgbLUT[y + yy][x + xx].b
                            }
                        } else {
                            pixelIntensityCount[intensityVal].val++;
                            pixelIntensityCount[intensityVal].r += rgbLUT[y + yy][x + xx].r;
                            pixelIntensityCount[intensityVal].g += rgbLUT[y + yy][x + xx].g;
                            pixelIntensityCount[intensityVal].b += rgbLUT[y + yy][x + xx].b;
                        }
                    }
                }
            }

            pixelIntensityCount.sort(function (a, b) {
                return b.val - a.val;
            });

            var curMax = pixelIntensityCount[0].val,
                dIdx = (y * width + x) * 4;

            destPixData[dIdx] = ~~ (pixelIntensityCount[0].r / curMax);
            destPixData[dIdx + 1] = ~~ (pixelIntensityCount[0].g / curMax);
            destPixData[dIdx + 2] = ~~ (pixelIntensityCount[0].b / curMax);
            destPixData[dIdx + 3] = 255;
        }
    }

    // change this to ctx to instead put the data on the original canvas
    ctx.putImageData(destImageData, 0, 0);
}
    
    
    
    
    
    
    function MakeGif2(){
            var jabArray; 
            var headPos = { x:5, y: 116};
            var headSize = {w: 275, h: 206.45 };
        
            if(heroname == "leia"){
                jabArray = leiajab_images.slice();
                //5, 0
                headPos = { x:5, y: 0};
                headSize = {w: 337, h: 253 };
            }else if(heroname == "luther"){
                jabArray = lutherjab_images.slice();
                //71, -51
                headPos = { x:93, y: -21};
            }else if(heroname == "hulk"){
                jabArray = hulkjab_images.slice();
                //-21, -40
                headPos = { x:8, y: -20};
            }
            
            
            for (i = 0; i < jabArray.length; i++) { 
                    
                    var tempCanvas = document.createElement('canvas');
                    tempCanvas.width = 600;
                    tempCanvas.height = 450;
                    var ctx= tempCanvas.getContext("2d");
                    
                    //ctx.drawImage(hcan, 0, 0);
                    ctx.drawImage(jabArray[i], 0, 0);
                    
                    
                    var tempImage = new Image(); 
                    tempImage.onload = function(){
                        
                    };
                    tempImage.src = allMyFaces[i].src; 
                    //5 ,116,334, 251 LEIA
                    //-21 ,47,337, 253 HULK
                    //71 ,50,337, 253 LUTHER
                    ctx.drawImage(tempImage, 0,0, tempImage.width, tempImage.height, headPos.x ,headPos.y, headSize.w, headSize.h);    

                    var imgData = tempCanvas.toDataURL('image/jpeg');
                    var oneImage = new Image();
                    oneImage.src = imgData;
                    var DOM_img = document.createElement("img");
                    //DOM_img.style="position:absolute;";
                    DOM_img.src = imgData;

                    $(".animation2div").append(DOM_img);
            } 
        MakeGif3(); 
    }
    
    function MakeGif3(){
            var punchArray; 
            var headPos = { x:5, y: 116};
            var headSize = {w: 275, h: 206.45 };

            if(heroname == "leia"){
                punchArray = leiapunch_images.slice();
                //5, 0
                headPos = { x:5, y: 0};
                headSize = {w: 337, h: 253 };
            }else if(heroname == "luther"){
                punchArray = lutherpunch_images.slice();
                //71, -51
                headPos = { x:93, y: -21};
            }else if(heroname == "hulk"){
                punchArray = hulkpunch_images.slice();
                //-21, -40
                headPos = { x:8, y: -20};
            }

            var j = 0; 
            for (i = 0; i < punchArray.length; i++) { 
                    
                    var tempCanvas = document.createElement('canvas');
                    tempCanvas.width = 600;
                    tempCanvas.height = 450;
                    var ctx= tempCanvas.getContext("2d");
                    
                    //ctx.drawImage(hcan, 0, 0);
                    ctx.drawImage(punchArray[i], 0, 0);
                    
                    
                    var tempImage = new Image(); 
                    tempImage.onload = function(){
                        
                    };
                    if(j == 4){
                        j = 0; 
                    }
                    tempImage.src = allMyFaces[j].src; 
                    //5 ,116,334, 251 LEIA
                    //-21 ,47,337, 253 HULK
                    //71 ,50,337, 253 LUTHER
                    if(heroname == "luther"){
                          if(i == 0){
                            //headPos = { x:123, y: -74};
                             headPos = { x:143, y: -54};
                        }else if(i == 1){
                            //headPos = { x:147, y: -56};
                            headPos = { x:167, y: -36};
                        }else if(i == 2){
                            //headPos = { x:123, y: -74};
                            headPos = { x:143, y: -54};
                        }
                        else{
                            //headPos = { x:71, y: -50};  
                          headPos = { x:91, y: -30};  
                        }
                    }
                
                    ctx.drawImage(tempImage, 0,0, tempImage.width, tempImage.height, headPos.x ,headPos.y, headSize.w, headSize.h);    

                    var imgData = tempCanvas.toDataURL('image/jpeg');
                    var oneImage = new Image();
                    oneImage.src = imgData;
                    var DOM_img = document.createElement("img");
                    //DOM_img.style="position:absolute;";
                    DOM_img.src = imgData;

                    $(".animation3div").append(DOM_img);
                    j++; 
            }
        MakeGif4(); 
    }
    
    
        function MakeGif4(){
            var punchArray; 
            var headPos = { x:5, y: 116};
            var headSize = {w: 275, h: 206.45 };
            
            
            /*if(heroname == "leia"){
                punchArray = leiaaltpunch_images.slice();
                headPos = { x:5, y: 0};
            }else if(heroname == "luther"){
                punchArray = lutheraltpunch_images.slice();
                //123, -74
                //147, -56
                headPos = { x:5, y: 0};
            }else if(heroname == "hulk"){
                punchArray = hulkaltpunch_images.slice();
                headPos = { x:5, y: 0};
            } */
            
            if(heroname == "leia"){
                punchArray = leiaaltpunch_images.slice();
                            //5, 0
                headPos = { x:32, y: 30};
                
            }else if(heroname == "luther"){
                punchArray = lutheraltpunch_images.slice();
                //71, -51
               // headPos = { x:93, y: -21};
                //5, 0
                headPos = { x:5, y: 0};
                headSize = {w: 337, h: 253 };
            }else if(heroname == "hulk"){
                punchArray = hulkaltpunch_images.slice();
                //-21, -40
                    //5, 0
               headPos = { x:5, y: 0};
                headSize = {w: 337, h: 253 };
            }
            
            var j = 0; 
            for (i = 0; i < punchArray.length; i++) { 
                    
                    var tempCanvas = document.createElement('canvas');
                    tempCanvas.width = 600;
                    tempCanvas.height = 450;
                    var ctx= tempCanvas.getContext("2d");
                    
                    //ctx.drawImage(hcan, 0, 0);
                    ctx.drawImage(punchArray[i], 0, 0);
                    
                    
                    var tempImage = new Image(); 
                    tempImage.onload = function(){
                        
                    };
                    if(j == 4){
                        j = 0; 
                    }
                    tempImage.src = allMyFaces[j].src; 
                    //5 ,116,334, 251 LEIA
                    //-21 ,47,337, 253 HULK
                    //71 ,50,337, 253 LUTHER
                    if(heroname == "leia"){
                        if(i == 0){
                            //headPos = { x:123, y: -74};
                             headPos = { x:143, y: -54};
                        }else if(i == 1){
                            //headPos = { x:147, y: -56};
                            headPos = { x:167, y: -36};
                        }else if(i == 2){
                            //headPos = { x:123, y: -74};
                            headPos = { x:143, y: -54};
                        }
                        else{
                            //headPos = { x:71, y: -50};  
                          headPos = { x:91, y: -30};  
                        }
                        
                    }
                    ctx.drawImage(tempImage, 0,0, tempImage.width, tempImage.height, headPos.x ,headPos.y,headSize.w, headSize.h);    

                    var imgData = tempCanvas.toDataURL('image/jpeg');
                    var oneImage = new Image();
                    oneImage.src = imgData;
                    var DOM_img = document.createElement("img");
                    //DOM_img.style="position:absolute;";
                    DOM_img.src = imgData;

                    $(".animation4div").append(DOM_img);
                    j++; 
            }
        allGifsMade = true;
        $(".loadingBar").remove(); 
        //hide spinner    
        $("#spinnerParent").hide();
        spinner.stop();
        
        $('.animation1div').show();
        $('.animation2div').hide();
        $('.animation3div').hide();
        $('.animation4div').hide();
        startAnimation1(); 
        $(".playerhelptxtdiv").show();
            

    }
    
    
    
    
    
    
    
    var frames1; 
    var timer1; 
    function startAnimation1() { 
        $(".playertext").css('visibility','hidden');
       // $(".playertext").html(text1);
        if(frames1 == null){
            var frames1 = $(".animation1div").children();
        }
        var frameCount = frames1.length;
        
        var i = 0;
        timer1 = setInterval(function () {
            $(frames1[i % frameCount]).css({'display':'none'});
            $(frames1[++i % frameCount]).css({'display':'block'});
        }, 200); 
    }
    
    
    
    var wordCounter = 0; 
    var frames2;
    var timer2; 
    var altFinalAnim = false; 
    function startAnimation2() { 
        $(".playertext").css('visibility','visible');
        if(frames2 == null){
            frames2 = $(".animation2div").children();
        }
        var frameCount = frames2.length;
        console.log();
        if(wordCounter == (words.length-1)){
            startTimer = true; 
            clearInterval(timer2);
            clearInterval(timer1);
            
            $('.animation1div').css({'display':'none'});
            $('.animation2div').css({'display':'none'});
            var timenow = new Date().getTime();
            var rate = (timenow - startTime) / words.length; 
            //console.log("rate: " + rate);
            if(rate < 500){
                $('.animation4div').css({'display':'block'});
                altFinalAnim = true; 
            }else{
                console.log("should play");
                $('.animation3div').css({'display':'block'});  
                altFinalAnim  = false; 
            }
            startAnimation3();
            return;
        }
        $(".playertext").html(words[wordCounter]);
        wordCounter++; 
        var i = 0;
        timer2  = setInterval(function () { 
            if (i > (frames2.length-2)) {
                clearInterval(timer2);
                clearInterval(timer1);
                startAnimation1(); 
                $('.animation1div').css({'display':'block'});
                $('.animation2div').css({'display':'none'});
                $('.animation3div').css({'display':'none'});
                $('.animation4div').css({'display':'none'});
                return; 
            }
            else{
                $(frames2[i % frameCount]).css({'display':'none'});
                $(frames2[++i % frameCount]).css({'display':'block'});
            }
        }, 200); 
    }
    
    
    
    
    var frames3; 
    var timer3; 
    var animation3_i = 0; 
    function startAnimation3() { 
        $(".playertext").css('visibility','visible');
        //if(frames3 == null)
        //{
            if(altFinalAnim == false){
                frames3 = $(".animation3div").children();   
            }else{
                frames3 = $(".animation4div").children();
            }
        //}
        var frameCount = frames3.length;
        $(".playertext").html(words[words.length-1]);
        //console.log("frameCount" + frameCount);
        animation3_i = 0;
        timer3 = setInterval(function () { 
            console.log("i: "+ animation3_i); 
            if (animation3_i > (frameCount-2)) {
                clearInterval(timer3);
                clearInterval(timer1);
                clearInterval(timer2);
                wordCounter = 0; 
                startAnimation1(); 
                $('.animation1div').css({'display':'block'});
                $('.animation2div').css({'display':'none'});
                $('.animation3div').css({'display':'none'});
                $('.animation4div').css({'display':'none'});
                return;
            }
            else{
                $(frames3[animation3_i % frameCount]).css({'display':'none'});
                $(frames3[++animation3_i % frameCount]).css({'display':'block'});
            }
        }, 200); 
    }
    
    
    var startTime; 
    var startTimer = true;
    var desiredHeight; 
    var mobileTime; 
    var mobileTimer = true; 
    $(document).ready(function(){
        
        assignTestValues();
        
        /*********CHANGE HELP TEXT TO TAP WHEN ON MOBILE****/  
        function isMobile() {
          try{ document.createEvent("TouchEvent"); return true; }
          catch(e){ return false; }
        }
        if(isMobile() == true){
            //console.log("should say click"); 
            $(".playerhelptext").text("Tap To Play");
            //resizeAndFillPage();
            /*desiredHeight = $(window).height() - ($(".titlesection").height() + $(".playersection").height()+ $(".statssection").height());
            $(".sharediv").height(desiredHeight);*/
        }
        
        var loadingImage = document.getElementById('loadingBarID');
        loadingImage.onload = function () {
            resizeAndFillPage();
        };
        if(loadingImage.complete == true){
            resizeAndFillPage();    
        }
        
        
        function resizeAndFillPage(){
            //$(".playerdiv").height(loadingImage.clientHeight);
            $(".playerdiv").height($('.playerdiv').find('img:visible').css("height"));
        
            /*desiredHeight = $(window).height() - ($(".titlesection").height() + $(".playersection").height()+ $(".statssection").height());
            $(".sharediv").height(desiredHeight);*/
        }


        window.onresize = function(event) {
            //change playerdiv to size of image(s)
            resizeAndFillPage();
           //$(".playerdiv").height($('.playerdiv').find('img:visible').css("height"));
            
            //if(!isMobile()){
                //fill rest of page with last div
                //desiredHeight = $(window).height() - ($(".titlesection").height() + $(".playersection").height()+ $(".statssection").height());
                //$(".sharediv").height(desiredHeight);
            //}
        };
        
        //neonize the text
        if(isMobile()){
            $('.playertext').neonText({
                textColor: 'rgba(255,255,255,.5)',
                textSize: '12vw', 
                neonHighlight: '#dae878',
                neonHighlightColor: '#FF00DE',
            });    
        }else{
            $('.playertext').neonText({
                textColor: 'rgba(255,255,255,.5)',
                textSize: '6vw', 
                neonHighlight: '#ffffff',
                neonHighlightColor: '#FF00DE',
            });
        }
        

        
        $( ".editbutton" ).hover( 
            function(){  
                $(".editbutton").transition({opacity: 0.4 }, 100, 'in'); 
            },
            function(){  
                $(".editbutton").transition({opacity: 1.0 }, 100, 'in'); 
            }
        );
        $(".editbutton").on('touchend click', function(){
            
            $(".editbutton").transition({scale: 1.1 }, 100, 'out', function() {
                $(".editbutton").transition({scale: 1.0 }, 100, 'in', function() {   
                    window.location.href = "/old-home.html";
                }); 
            }); 
        });
        
        $( ".twitter-share-button" ).hover( 
            function(){  
                $(".twitter-share-button").transition({opacity: 0.4 }, 100, 'in'); 
            },
            function(){  
                $(".twitter-share-button").transition({opacity: 1.0 }, 100, 'in'); 
            }
        );
        $(".twitter-share-button").on('touchend click', function(){
            
            $(".twitter-share-button").transition({scale: 1.1 }, 100, 'out', function() {
                $(".twitter-share-button").transition({scale: 1.0 }, 100, 'in', function() { 
                    var win = window.open("https://www.twitter.com/intent/tweet?text=Trump+Is+Not+My+President&url=https://www.playloops.io/index.html", "_blank");
                    if (win) {
                        //Browser has allowed it to be opened
                        win.focus();
                    } else {
                        //Browser has blocked it
                        alert('Please allow popups for this website');
                    }
                    //window.location.href = "https://www.twitter.com/intent/tweet?text=Trump+Is+Not+My+President&url=https://www.playloops.io/index.html";
                }); 
            }); 
        });
        
        $( ".facebookdiv" ).hover( 
            function(){  
                $(".facebookdiv").transition({opacity: 0.4 }, 100, 'in'); 
            },
            function(){  
                $(".facebookdiv").transition({opacity: 1.0 }, 100, 'in'); 
            }
        );
        $(".facebookdiv").on('touchend click', function(){
            
            $(".facebookdiv").transition({scale: 1.1 }, 100, 'out', function() {
                $(".facebookdiv").transition({scale: 1.0 }, 100, 'in', function() { 
                    var win = window.open("http://www.facebook.com/sharer/sharer.php?u=http://www.playloops.io/index.html&title=Not My President!", "_blank");
                    if (win) {
                        //Browser has allowed it to be opened
                        win.focus();
                    } else {
                        //Browser has blocked it
                        alert('Please allow popups for this website');
                    }
                    //window.location.href = "http://www.facebook.com/sharer/sharer.php?u=http://www.playloops.io/index.html&title=Not My President!";
                }); 
            }); 
        });
        
    
        var timenow; 
        var lastTime = 0;  
        $( ".playersection,.playerhelptext" ).on('touchend click', function(){
          
            timenow = new Date().getTime();
            //console.log("time since last click: " + (timenow - lastTime));
            if((timenow - lastTime) > 100){
                
                if(allGifsMade == true)
                {
                    if($('.animation1div').is(':visible')) {
                        if(startTimer == true){
                            startTime = new Date().getTime();
                            $(".playerhelptxtdiv").css({'display':'none'});
                            startTimer = false; 
                        }
                        //clearInterval(timer1);
                        clearInterval(timer2);
                         
                        $('.animation1div').css({'display':'none'});
                        $('.animation3div').css({'display':'none'});
                        $('.animation4div').css({'display':'none'});
                        //start the animation from the start. 
                        $('.animation2div').css({'display':'block'});
                        startAnimation2();
                        
                    }else if($('.animation2div').is(':visible')) {
                        clearInterval(timer2);
                        //clearInterval(timer1);
                        //clearInterval(timer3);
                        
                        $('.animation1div').css({'display':'none'});
                        $('.animation3div').css({'display':'none'});
                        $('.animation4div').css({'display':'none'});
                        //start the animation from the start.
                        $('.animation2div').css({'display':'block'});
                        startAnimation2();
                         
                    }else if($('.animation3div').is(':visible')) {
                        //clearInterval(timer1);
                        //clearInterval(timer2);
                        //clearInterval(timer3);
                        if(animation3_i != 0 && animation3_i != 1){
                            console.log("animation3 i: " + animation3_i);
                            animation3_i = 0; 
                        }
                        //startAnimation3();
                        //don't do anything. should cycle back to animation 1 after it ends. 
                    } 
                    else if($('.animation4div').is(':visible')) {
                        //clearInterval(timer1);
                        //clearInterval(timer2);
                        //clearInterval(timer3);
                        if(animation3_i != 0 && animation3_i != 1){
                            console.log("animation3 i: " + animation3_i);
                            animation3_i = 0; 
                        }
                        //startAnimation3();
                        //don't do anything. should cycle back to animation 1 after it ends. 
                    } 
                } 
                
               lastTime = new Date().getTime(); 
            }
        });
          
        
    });
    
</script>
</html>