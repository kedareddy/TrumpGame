<!doctype html> 
<html lang="en"> 
<head> 
<meta charset="UTF-8" />
<title>Pussy Grabs Back!</title>
<meta name="viewport" content="width=device-width;initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta name="keywords" content="Pussygrabsback,dumptrump,southasiansdumptrump,nomoretrumpmodirapeculture, notorapeculture">
    
<meta property="og:site_name"   content="PlayLoops">
<meta property="og:url"         content="http://www.playloops.io/pussygrabsback.html">
<meta property="og:title"       content="Pussy Grabs Back!">
<meta property="og:description" content="How many times can we say NO to Trump and his Rape Culture before Nov 8th? #DumpTrump #SouthAsiansDumpTrump #LoveTrumpsHate">
<meta property="og:type"        content="video.other">
<meta property="og:image"       content="http://www.playloops.io/assets/BkgWithoutTrump.jpg">
<meta property="fb:app_id"			content="930904337042753">
    
<meta name="twitter:card" content="photo">
<meta name="twitter:site" content="PlayLoops">
<meta name="twitter:title" content="Pussy Grabs Back!">
<meta name="twitter:image" content="http://www.playloops.io/assets/BkgWithoutTrump.jpg">
<meta name="twitter:url" content="http://www.playloops.io/pussygrabsback.html" />
<meta name="twitter:description" content="How many times can we say NO to Trump and his Rape Culture before Nov 8th? #DumpTrump #SouthAsiansDumpTrump #LoveTrumpsHate">

    
    
<script type="text/javascript" src="js/phaser.min.js"></script>
<script type="text/javascript" src="./js/libgif.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Exo:800|Lato:700" rel="stylesheet">
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85949084-1', 'auto');
  ga('send', 'pageview');

</script>
    
</head>    
    
<body style="background-color:black; position: relative;">
  
<div style="display:block; position:relative; left:30%; margin:0 auto;padding: 0px;">
    <h1 id="bigcounter" style="color:white; font-family: 'Exo', sans-serif;font-size: 500%; padding: 0px;margin:0 auto;">00,000,000,981</h1>
</div>
       
    
<div id="parentcontainer" style="display:block; left: 30%; margin:0 auto; position:relative;">
    <!--<p id="p1" style="position:absolute;top:0px;left:0px;color:white;">0000</p>-->
    <div id = 'parentgifDiv'> <img id = 'parentgif' src="assets/HulkPussy.gif" alt="HTML5 Icon" style="position:absolute;top:0px;left:0px;width:600px;height:338px;z-index:-3;">
    </div>
    <div id = 'punchgifDiv'> <img id='punchgif' src="assets/TrumpPunchPussy.gif" alt="HTML5 Icon" style="position:absolute;top:0px;left:0px;width:600px;height:338px;z-index:-2;">
    </div>
    
    <div id="phasergame" style="position:absolute;top:0px;left:0px;z-index:2;"></div>
</div>
    
<div id="logocontainer" style=" position:absolute; left:30%; top: 429.5%; width: 600px;">
    
    <h1 class = "uielement" style=" vertical-align: middle;display:inline-block; color:white; font-family: 'Lato', sans-serif;font-size: 19px; letter-spacing: 4px; padding: 10px; border-style: solid;border-width: 5px;">PLAY LOOPS</h1>
    <!--<span class="tooltiptext">Coming Soon</span>-->

    <a class = "uielement facebook customer share" style= "vertical-align: middle; display:inline-block;margin-left:90px;" href="http://www.facebook.com/sharer/sharer.php?u=http://www.playloops.io/pussygrabsback.html&title=Pussy Grabs Back!"><img src="assets/facebook-icon.svg" width="50"></a>
    
    <a 
       class = "uielement twitter customer share"
       style="vertical-align: middle;display:inline-block;margin-left:90px;" 
       href="http://twitter.com/intent/tweet?status=Pussy Grabs Back!+http://www.playloops.io/pussygrabsback.html">
       <img src="assets/twitter-icon.svg" width="50">
    </a>
</div>
    
    
<style>
.uielement{
    opacity: 0.5; 
}
.uielement:hover, .uielement:active {
    opacity: 1;
}
.tooltiptext {
    visibility: hidden;
    width: 200px;
    background-color: black;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    font-size: 75%;
    
    /* Position the tooltip */
    position: absolute;
    z-index: 1;
    top: 100%;
    left: 0%;
    margin-left: -20px;
        /* Fade in tooltip - takes 1 second to go from 0% to 100% opac: */
    opacity: 0;
    transition: opacity 1s;
}
    
.uielement:hover .tooltiptext {
    visibility: visible;
    opacity: 0.5;
}
</style>    
        



    
    
    
<script type="text/javascript">
    
;(function($){
  
  /**
   * jQuery function to prevent default anchor event and take the href * and the title to make a share pupup
   *
   * @param  {[object]} e           [Mouse event]
   * @param  {[integer]} intWidth   [Popup width defalut 500]
   * @param  {[integer]} intHeight  [Popup height defalut 400]
   * @param  {[boolean]} blnResize  [Is popup resizeabel default true]
   */
  $.fn.customerPopup = function (e, intWidth, intHeight, blnResize) {
    
    // Prevent default anchor event
    e.preventDefault();
    
    // Set values for window
    intWidth = intWidth || '500';
    intHeight = intHeight || '400';
    strResize = (blnResize ? 'yes' : 'no');

    // Set title and open popup with focus on it
    var strTitle = ((typeof this.attr('title') !== 'undefined') ? this.attr('title') : 'Social Share'),
        strParam = 'width=' + intWidth + ',height=' + intHeight + ',resizable=' + strResize,            
        objWindow = window.open(this.attr('href'), strTitle, strParam).focus();
  }
  
  /* ================================================== */
  
  $(document).ready(function ($) {
    $('.customer.share').on("click", function(e) {
      $(this).customerPopup(e);
    });
  });
    
}(jQuery));    
    
    
    
// get punch count so far (do once at beginning of js)    
$.get('http://babybrain.org/cgi-bin/trumpcount.pl', 
      function(data){
        numOfPunches = parseInt(data,10);
        //document.getElementById("p1").textContent = "000" + String(numOfPunches);
        document.getElementById("bigcounter").textContent = numberWithCommas(pad(numOfPunches, 11));
      }
);    
//SuperGif library enables us to move back and forth between frames in the gif. It also adds delay to the load time //upfront, which is a bit problematic.      
//var tSpeechGif = new SuperGif({ gif: document.getElementById('parentgif') } );
//tSpeechGif.load();
var tPunchGif = new SuperGif({ gif: document.getElementById('punchgif'), loop_mode: false} );
tPunchGif.load();


var doOnce = false;
var counter = 0; 
var numOfPunches = 0; 
var isPunching = false; 
var resetPunchTimeout, counterTimeout; 
 
$(document).ready(function(){
    
    $('#punchgifDiv').hide();
    
        $( "#parentcontainer" ).on('touchend click', function(){
                    //e.stopPropagation(); e.preventDefault();
        var hitGood = CheckForOverlap(); //e.pageX, e.pageY);
            
        if((doOnce == false && hitGood == true) || isPunching == true){
            
            if(counter != headcounter){
                counter = 0; 
                headcounter = 0; 
            }
            
            counter = counter +1;   
            headcounter++; 
            console.log("headcounter: " + headcounter + " counter: " + counter);
            
            
            
            if(counter == 3 && headcounter == counter){

           
                head3.alpha = 0; 
                
                // increment punch count
                numOfPunches++;
                $.get('http://babybrain.org/cgi-bin/trumpcount.pl?increment=true');
                /*setTimeout((function() {
                    //hillary.alpha =1; 
                }), 70);
                
                setTimeout((function() {
                    hillary.alpha =0; 
                }), 950);*/
                
         
                
                $('#logocontainer').css({'position': 'relative'});
                $('#parentgifDiv').hide();
                
                if(isPunching == true){
                    tPunchGif.move_to(4);   
                    counter = 2;
                    headcounter = 2;
                    clearTimeout(counterTimeout); 
                    clearTimeout(resetPunchTimeout);
                    document.getElementById("bigcounter").textContent = numberWithCommas(pad(numOfPunches, 11));
                    bloodsprite.alpha = 1; 
                    bloodsprite.animations.play('spurtAnimation', 12, false);
                    bloodsprite.animations.currentAnim.onComplete.add(function () {	bloodsprite.alpha = 0;}, this);

                }
                else{
                    tPunchGif.move_to(2);
                    counter = 0;
                }
                
                     isPunching = true; 
                
                counterTimeout = setTimeout((function() {
                    //$("p").animate({fontSize: '-=.2em'}, 250);    
                    //document.getElementById("p1").textContent = "000" + String(numOfPunches);
                    document.getElementById("bigcounter").textContent = numberWithCommas(pad(numOfPunches, 11));
                     
                }), 725);
                
                resetPunchTimeout = setTimeout(resetPunch, 1100);
                
                tPunchGif.play();
                $('#punchgifDiv').show();  
                
                doOnce = true; 
            }
            else if(isPunching == false && counter < 3){
               // setTimeout((function() {
                     changeHead();
                //}), 200);
                
            }
        }
        else{
            /*if(counter != headcounter){
                counter = 0; 
                headcounter = 0; 
            }
            changeHead();*/
        }
    });

});  

// Returns a random integer between min (included) and max (included)
// Using Math.round() will give you a non-uniform distribution!
function getRandomIntInclusive(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}  
function pad(n, width, z) {
  z = z || '0';
  n = n + '';
  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
}
function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
    

var game = new Phaser.Game(600, 338, Phaser.CANVAS, 'phasergame', { preload: preload, create: create, update: update}, true);

function preload() {
    //game.load.atlas('speech', 'assets/mouth.png', 'assets/mouth.json', Phaser.Loader.TEXTURE_ATLAS_JSON_ARRAY);
    game.load.atlas('blood', 'assets/blood.png', 'assets/blood.json', Phaser.Loader.TEXTURE_ATLAS_JSON_ARRAY);
    game.load.image('head1', 'assets/head1.png');
    game.load.image('head2', 'assets/head2.png');
    game.load.image('head3', 'assets/head3.png');
   // game.load.image('head4', 'assets/TrumpSprite.png');
    game.load.image('podium', 'assets/podium.jpg');
   // game.load.image('hillary', 'assets/pussy4.png');
}

var head1, head2, head3, head4, podium, hillary;
var head1Pos, head2Pos, head3Pos; 
var spurtAnimation, bloodsprite; 
function create() {
    
    hillary = game.add.sprite(0, 0, 'hillary');
    hillary.position.setTo(65, -65);
    hillary.scale.setTo(.4,.4);
    hillary.alpha = 0; 
    
    head3 = game.add.sprite(0, 0, 'head3');
    head3.position.setTo(375, 202);
    head3.scale.setTo(.75,.75);
    head3Pos = head3.position; 
    head4 = game.add.sprite(0, 0, 'head4');
    head4.position.setTo(295, 92);
    podium = game.add.sprite(0, 0, 'podium');
    podium.position.setTo(357, 248);
    head1 = game.add.sprite(0, 0, 'head1');
    head1.position.setTo(295, 92);
    head1Pos = head1.position; 
    head2 = game.add.sprite(0, 0, 'head2');
    head2.position.setTo(485, 65);
    head2.angle -= 10;
    head2Pos = head2.position; 
    
    head1.alpha = 0; 
    head2.alpha = 0;
    head3.alpha = 0; 
    head4.alpha = 0; 
    head1.inputEnabled = true; 
    head2.inputEnabled = true; 
    head3.inputEnabled = true; 
    head4.inputEnabled = true; 
    head1.input.useHandCursor = true;
    head2.input.useHandCursor = true;
    head3.input.useHandCursor = true;
    
    bloodsprite = game.add.sprite(315, -60, 'blood');
    bloodsprite.scale.setTo(3.2,3.2);
    spurtAnimation = bloodsprite.animations.add('spurtAnimation');
    bloodsprite.alpha = 0; 
    

    StartGame(); 
}  
  
var timer;     
function StartGame(){
    timer = game.time.events.add(Phaser.Timer.SECOND * .25, changeHead, this);
}   
    
var head1Tween, head2Tween, head3Tween; 
var tweenTime = 7000; 
/*function ShowHead1(){
    head1.alpha = 1; 
    head1.position.y = 92;
    head1Tween = game.add.tween(head1).to({ y: 400 }, tweenTime, Phaser.Easing.Quadratic.In, true, 0, 0, false);
    head1Tween.onComplete.add(head1TweenComplete, this);
} */   

function head1TweenComplete(){
    //console.log("tween completed. now will change heads.asdfasdf ");
    if(head1.alpha == 1){
        if(head2Tween != null){
            head2Tween.stop();
        }
        if(head3Tween != null){
            head3Tween.stop();
        }
        // console.log("tween completed. now will change heads. ");
        
        headcounter ++; 
        changeHead(); 
    }
}
    
function head2TweenComplete(){
    if(head2.alpha == 1){
        if(head1Tween != null){
            head1Tween.stop();
        }
        if(head3Tween != null){
            head3Tween.stop();
        }
        headcounter ++; 
        changeHead(); 
    }
}
    
function head3TweenComplete(){
    if(head3.alpha == 1){
        if(head2Tween != null){
            head2Tween.stop();
        }
        if(head1Tween != null){
            head1Tween.stop();
        }
        headcounter ++; 
        changeHead(); 
    }
}    
    
var headcounter = 0;     
function changeHead(){
    if(counter != headcounter){
        counter = 0; 
        headcounter = 0; 
    }
   // console.log("headcounter: " + headcounter);
    if(headcounter >= 3){
        headcounter = 0;     
    }
    
    if(headcounter == 0){
        head3.alpha = 0; 
        head1.alpha = 1;
        head1.position.y = 92;
        head1Tween = game.add.tween(head1).to({ y: 400 }, tweenTime, Phaser.Easing.Quadratic.In, true, 0, 0, false);
        head1Tween.onComplete.add(head1TweenComplete, this);
    }
    else if(headcounter == 1){
        head1.alpha = 0;
        head2.alpha = 1; 
        head2.position.x = 485; 
        head2Tween = game.add.tween(head2).to({ x: 650 }, tweenTime, Phaser.Easing.Quadratic.In,true, 0,0, false);
        head2Tween.onComplete.add(head2TweenComplete, this);
    }
     else if(headcounter == 2){
        head2.alpha = 0;
        head3.alpha = 1;
        head3.position.y = 202; 
        head3Tween = game.add.tween(head3).to({ y: 379 }, tweenTime, Phaser.Easing.Quadratic.In,true, 0,0, false);
        head3Tween.onComplete.add(head3TweenComplete, this);
    }
    else{
        head1.alpha = 0;    
        head2.alpha = 0;
        head3.alpha = 0; 
        head4.alpha = 0; 
    }
}    
     
function resetPunch()
{   
    
    $('#punchgifDiv').hide(); 
    tPunchGif.move_to(2);
    $('#logocontainer').css({'position': 'absolute'});
    $('#parentgifDiv').show();
    tweenTime = tweenTime - 1000; 
    if(tweenTime < 2000){
        tweenTime = 2000; 
    }
    headcounter = 0; 
    
    isPunching = false;
    doOnce = false; 
    head1Tween.stop(); 
    head2Tween.stop();
    head3Tween.stop();
    head1.alpha = 0; 
    head2.alpha = 0;
    head3.alpha = 0; 
    head4.alpha = 0;
    head1.position = head1Pos; 
    head2.position = head2Pos; 
    head3.position = head3Pos; 
    //ShowHead1();
    //head1.tint =  0xffffff;
    //head2.tint =  0xffffff;
    //head3.tint =  0xffffff;
    
    changeHead();
}  


var shakeWorld = 0;
function update() {
    //console.log("tweenTIme: " + tweenTime);
    game.canvas.focus(); 
    if (shakeWorld > 0) 
    {   
        var rand1 = game.rnd.integerInRange(-20,20);  
        var rand2 = game.rnd.integerInRange(-20,20);    
        game.world.setBounds(rand1, rand2, game.width + rand1, game.height + rand2);    
        shakeWorld--;    
        if (shakeWorld == 0) 
        {        
            game.world.setBounds(0, 0, game.width,game.height);    
        }
    }
}
    
function CheckForOverlap(){
    //console.log(String(cX) + " : " + String(cY) ); 
    //var myPoint = new Phaser.Point(cX - .3*window.innerWidth, cY) ;
    //console.log(head1.getBounds());
    //if(Phaser.Rectangle.containsPoint(head1.getBounds(), myPoint) && head1.alpha == 1){
    if(head1.alpha == 1){

            //head1.tint =  Math.random() * 0xCD5C5C;

        //console.log("yes!");
        return true; 
    }
    //else if(Phaser.Rectangle.containsPoint(head2.getBounds(), myPoint) && head2.alpha == 1){
    if(head2.alpha == 1){
        //head2.tint = Math.random() * 0xCD5C5C;
        return true; 
    }
    //else if(Phaser.Rectangle.containsPoint(head3.getBounds(), myPoint) && head3.alpha == 1){
    if(head3.alpha == 1){
        //head3.tint = Math.random() * 0xCD5C5C;
        return true; 
    }
    else{
        //console.log("NOPE");
        return false; 
    }
}

</script>

</body>
</html>